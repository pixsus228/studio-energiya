/* ПРИМУСОВА АДАПТАЦІЯ ТА ВИПРАВЛЕННЯ ШИРИНИ */
@media (max-width: 900px) {
  
  /* 1. Скидаємо примусову ширину адмінки */
  * {
    max-width: 100vw !important;
    box-sizing: border-box !important;
  }

  html, body {
    overflow-x: hidden !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Виправляємо головний контейнер CMS, який часто має min-width */
  div[class*="AppContainer"], 
  div[id="nc-root"] > div {
    min-width: auto !important;
    width: 100% !important;
  }

  /* 2. ШАПКА: тримаємо зверху */
  header[class*="AppHeader"] {
    position: fixed !important;
    top: 0 !important;
    width: 100% !important;
    z-index: 1000 !important;
  }

  /* 3. МЕНЮ: робимо його блоком зверху */
  aside[class*="Sidebar"] {
    display: block !important;
    position: relative !important;
    width: 100% !important;
    margin-top: 50px !important; /* Відступ під шапку */
    height: auto !important;
    border-bottom: 2px solid #eee !important;
  }

  /* 4. КОНТЕНТ: прибираємо розтягування */
  main {
    width: 100% !important;
    min-width: auto !important;
    display: block !important;
    padding: 10px !important;
    margin: 0 !important;
    padding-bottom: 120px !important; /* Місце для кнопок */
  }

  /* Ховаємо прев'ю, воно найбільше розтягує екран */
  div[class*="PreviewPane"] {
    display: none !important;
  }

  /* Поля вводу — тільки на ширину екрана */
  div[class*="ControlPaneContainer"],
  div[class*="EditorContainer"] {
    width: 100% !important;
    min-width: auto !important;
    padding: 0 !important;
  }

  /* 5. КНОПКИ: ПРИМУСОВО ВНИЗУ */
  /* Target Toolbar more aggressively */
  div[class*="Toolbar"], 
  footer[class*="Toolbar"] {
    position: fixed !important;
    bottom: 0 !important; /* Притискаємо до самого низу */
    top: auto !important; /* Скасовуємо кріплення вгорі */
    left: 0 !important;
    width: 100% !important;
    height: 70px !important;
    background: #ffffff !important;
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: space-around !important;
    z-index: 99999 !important;
    box-shadow: 0 -4px 15px rgba(0,0,0,0.2) !important;
    padding: 0 10px !important;
  }

  /* Кнопки всередині */
  button[class*="Button"] {
    flex: 1 !important;
    height: 48px !important;
    margin: 0 5px !important;
    font-size: 14px !important;
    visibility: visible !important;
  }
}
